# Контрольная работа 1
*Целевич В.А. УИБО-04-24*  

## Задаие 1
Аудит сайта [медицинской организации] (https://www.emcmos.ru/)
- [x] [полное и сокращенное наименование] (https://www.emcmos.ru/)
- [x] [место нахождения] (https://www.emcmos.ru/contacts/)
- [x] [лицензии] (https://www.emcmos.ru/about/licenses/)
- [x] [режим и график работы] (https://www.emcmos.ru/contacts/)
- [x] [контактные телефоны] (https://www.emcmos.ru/contacts/)
- [x] [о видах медицинской помощи] (https://www.emcmos.ru/programs_and_services/)
- [x] [фамилия, имя, отчество (при наличии) медицинского работника] (https://www.emcmos.ru/doctors/)
- [ ] [сведения из документа об образовании]
- [x] [об отзывах потребителей услуг] (https://www.emcmos.ru/reviews/)
- [x] [иная информация] (https://www.emcmos.ru/news_and_media/)
- [x] [схема проезда] (https://www.emcmos.ru/contacts/)
- [ ] [почтовый адрес]
- [ ] [о страховых медицинских организациях, с которыми заключены договоры на оказание и оплату медицинской помощи по обязательному медицинскому страхованию] ()
- [ ] [о вакантных должностях] (https://www.emcmos.ru/karera-v-emc/)
- [x] [органы управления] (https://www.emcmos.ru/kontakty-kontroliruyushchih-organov/)

## Теоретические вопросы 
Вопрос 27. Как проводить тестирование на предмет слабых паролей и слабой системы восстановления учетных записей пользователей через API?
Тестирование этого вектора атаки является критически важным, так как он напрямую ведет к компрометации учетных записей пользователей.
Процесс тестирования можно разделить на две основные части:
Часть 1: Тестирование на слабые пароли Это проверка того, позволяет ли API устанавливать и использовать пароли, которые легко подобрать.
1. Анализ политики паролей при регистрации и смене пароля:
   · Эндпоинты: POST /api/register, POST /api/change-password
   · Методика: Последовательно отправлять запросы с паролями, нарушающими предполагаемую политику безопасности.
   · Что проверять:
     · Минимальная длина: Попытка установить пароль короче 8-12 символов (например, 12345).
     · Сложность: Попытка использовать пароли, состоящие только из цифр (1234567890), только из букв (password), или без заглавных букв и специальных символов.
     · Популярные слабые пароли: Попытка установить пароли из списков самых популярных паролей (qwerty, password, admin, 111111).
     · Пароль, совпадающий с логином или email: Если логин user@example.com, попробовать установить пароль user или example.
   · Ожидаемый результат: API должен отклонять слабые пароли, возвращая HTTP-статус 400 Bad Request или 422 Unprocessable Entity с четким сообщением о том, какие требования к паролю не выполнены.
2. Тестирование лимитов попыток входа (Brute-Force Protection):
   · Эндпоинт: POST /api/login
   · Методика: Многократно отправлять запросы на аутентификацию с правильным логином/email, но разными (в том числе и подобранными) паролями.
   · Что проверять:
     · Наличие лимита: Существует ли ограничение на количество неудачных попыток входа с одного IP-адреса или для одной учетной записи?
     · Реакция системы: После превышения лимита система должна либо временно блокировать учетную запись, либо вводить CAPTCHA, либо значительно увеличивать задержку ответа. Ожидается HTTP-статус 429 Too Many Requests или 423 Locked.
     · Сброс счетчика: Сбрасывается ли счетчик неудачных попыток после успешного входа или по истечении времени?
Часть 2: Тестирование системы восстановления пароля
Этот функционал часто является самым слабым звеном, так как позволяет обойти основную аутентификацию.
1. Тестирование на перебор email/логинов:
   · Эндпоинт: POST /api/forgot-password
   · Методика: Отправлять запросы с разными email-адресами (как существующими, так и несуществующими).
   · Что проверять:
     · Различие в ответах: API всегда должен возвращать один и тот же ответ, например, "Если учетная запись с таким email существует, инструкции отправлены". Не должно быть различий между ответом для существующего (200 OK) и несуществующего (404 Not Found) email, так как это позволяет злоумышленнику выяснить, кто зарегистрирован в системе.
     · Скорость отправки: Существует ли лимит на частоту запросов восстановления, чтобы предотвратить спам или DoS-атаку на почтовый ящик пользователя?
2. Анализ безопасности токена сброса пароля:
   · Эндпоинт: GET /api/reset-password?token=... или POST /api/reset-password
   · Методика: Запросить сброс пароля для своего тестового аккаунта, получить токен и проанализировать его.
   · Что проверять:
     · Случайность и энтропия: Токен должен быть длинным, криптографически случайным. Не должно быть последовательных или предсказуемых токенов.
     · Срок действия: Токен должен быть действителен ограниченное время (например, 1 час). Нужно проверить, отклоняет ли система просроченный токен.
     · Одноразовость: После успешного сброса пароля токен должен стать недействительным. Попытка использовать его повторно должна завершаться ошибкой.
3. Проверка этапа установки нового пароля:
   · Эндпоинт: POST /api/reset-password
   · Методика: Использовать валидный токен для сброса и попытаться установить новый слабый пароль (как в Части 1).
   · Что проверять: На этом этапе должны применяться те же политики сложности пароля, что и при регистрации.
Инструменты:
Postman/Insomnia: Для ручного тестирования эндпоинтов и создания коллекций запросов.
· Burp Suite Intruder/OWASP ZAP: Для автоматизации перебора паролей и логинов.
· Кастомные скрипты (на Python с библиотекой requests): Для сложных сценариев тестирования.

Вопрос 36. Почему важно избегать повторного использования одноразовых токенов и сессионных ключей?
Повторное использование одноразовых (nonce) токенов и сессионных ключей полностью подрывает безопасность механизмов, для которых они предназначены, и приводит к серьезным уязвимостям.
1. Одноразовые токены (Nonce)
Предназначение: Обеспечение уникальности и свежести запроса. Часто используются для предотвращения повторных атак (replay attacks) в OAuth, транзакциях, формах.
Риски повторного использования:
· Replay-атаки: Если злоумышленник перехватил запрос с токеном (например, запрос на перевод денег), он может просто повторно отправить этот же запрос с тем же токеном. Если система примет его, действие будет выполнено повторно без ведома пользователя.
· Нарушение уникальности: Nonce по определению должен использоваться только один раз ("Number used ONCE"). Его повторное использование делает бессмысленным его существование. Система больше не может отличить легитимный первоначальный запрос от злонамеренной копии.
Пример: Пользователь отправляет запрос POST /transfer?to=attacker&amount=1000&nonce=abc123. Злоумышленник перехватывает его и отправляет еще 5 раз. Если nonce=abc123 принимается повторно, на счет злоумышленника уйдет 6000 вместо 1000.
2. Сессионные ключи
Предназначение: Временный симметричный ключ, используемый для шифрования трафика в течение одной сессии (например, сессии TLS).
Риски повторного использования:
· Компрометация всей сессии: Если злоумышленник каким-либо образом получит сессионный ключ, он сможет расшифровать всю переписку, защищенную этим ключом. Если ключ используется для нескольких сессий, компрометация одного ключа приведет к взлому всех этих сессий.
· Криптоатаки: Многие современные криптографические атаки (например, атаки на режимы шифрования, like Sweet32) становятся возможными или значительно облегчаются, когда злоумышленник имеет большое количество шифротекста, зашифрованного одним и тем же ключом. Использование ключа только для одной сессии ограничивает объем данных, доступных для анализа.
· Ограничение ущерба: Если каждый сеанс связи использует уникальный ключ, то компрометация одного сеанса (например, из-за утечки ключа или криптографической уязвимости) не затронет другие сеансы. Это принцип минимизации ущерба (containment).
Как это обеспечивается на практике:
· Для nonce: Система должна вести реестр (или кэш) использованных nonce в течение срока их жизни. Перед обработкой запроса она проверяет, не использовался ли данный nonce ранее.
· Для сессионных ключей (в TLS): Используется механизм "перфектной прямой секретности" (Perfect Forward Secrecy, PFS). При помощи алгоритмов обмена ключами по Диффи-Хеллману для каждой сессии генерируется уникальный сессионный ключ. Даже если долговременный приватный ключ сервера будет скомпрометирован в будущем, это не позволит расшифровать ранее записанные сессии.
Вывод: Избегание повторного использования — это фундаментальный принцип безопасности, направленный на предотвращение replay-атак, ограничение ущерба от компрометации и повышение криптостойкости системы.

Вопрос 56. В какой степени важны резервные копии данных и какие правила регламентируют их создание и хранение?
Резервные копии (бэкапы) являются последней линией обороны в стратегии информационной безопасности. Их важность сложно переоценить.
Степень важности резервных копий:
1. Восстановление после сбоев:
   · Аппаратные сбои: Выход из строя дисков, серверов, систем хранения данных (SAN/NAS).
   · Программные сбои: Ошибки в ПО, приводящие к порче или потере данных.
2. Защита от кибератак:
   · Ransomware (шифровальщики): Это главный современный аргумент. Наличие изолированной и неперезаписываемой резервной копии позволяет восстановить данные без выплаты выкупа.
   · Удаление или изменение данных злоумышленником: При успешном взломе злоумышленник может намеренно уничтожить данные.
3. Исправление человеческих ошибок:
   · Случайное удаление файлов или баз данных.
   · Ошибочное изменение или затирание критически важной информации.
4. Обеспечение бизнес-непрерывности и соответствия требованиям:
   · Позволяют быстро восстановить работу после инцидента, минимизируя простой (RTO - Recovery Time Objective).
   · Многие отраслевые стандарты и законы (ФЗ-152 "О персональных данных", PCI DSS, ГОСТ Р ИСО/МЭК 27001) прямо требуют наличия процедур резервного копирования и восстановления.
Ключевые правила и принципы регламентации:
Создание и хранение бэкапов регламентируется внутренними политиками компании и внешними стандартами. Ключевым правилом является Правило 3-2-1.
Правило 3-2-1:
· 3 копии данных (оригинал + 2 резервные копии).
· 2 разных типа носителей (например, HDD и ленточный накопитель, или облако и локальный NAS). Это защищает от уязвимостей, специфичных для одного типа носителя.
· 1 копия хранится вне площадки (офлайн или в удаленном облаке). Это защищает от физических угроз: пожар, потоп, кража в дата-центре.
Детализированные правила и требования:
1. Периодичность и глубина хранения (Retention Policy):
   · Как часто создаются копии (ежечасно, ежедневно, еженедельно)?
   · Как долго они хранятся (30 дней, 3 месяца, 1 год, 7 лет)?
   · Должны быть определены RPO (Recovery Point Objective) – максимально допустимый объем потери данных.
2. Изоляция и защита от модификации:
   · Резервные копии должны быть защищены от несанкционированного изменения и удаления. Особенно критично для защиты от ransomware.
   · Методы: Хранение в режиме "только для чтения" (WORM), использование снапшотов, физически изолированные (воздушный зазор, air-gapped) или логически изолированные (недоступные из основной сети) хранилища.
3. Шифрование:
   · Все резервные копии должны шифроваться как при передаче по сети, так и на носителе для хранения. Это защищает конфиденциальность данных в случае утери или кражи носителя.
4. Регулярное тестирование восстановления:
   · Самое важное правило. Бэкап, который не был протестирован на восстановление, считается несуществующим.
   · Регулярные учения (раз в квартал/полгода) должны проверять целостность данных, скорость восстановления (RTO) и корректность процедуры.
5. Документирование:
   · Все процедуры резервного копирования и восстановления должны быть подробно документированы в виде регламентов и инструкций. Это позволит выполнить восстановление даже в отсутствие ключевого сотрудника.
Правовое регулирование в России:
· Федеральный закон № 152-ФЗ "О персональных данных": Требует принятия мер, направленных на защиту ПДн от неправомерного доступа и уничтожения. Наличие бэкапов является одной из таких мер.
· Приказы ФСТЭК России: Например, Приказ № 21 детализирует требования к системам защиты информации, включая необходимость резервного копирования.
· Отраслевые стандарты: Для госорганов, финансового сектора (стандарт ЦБ РФ) существуют свои, более строгие требования к периодичности, срокам хранения и изоляции резервных копий.
(https://deepseekcom.ru/)
